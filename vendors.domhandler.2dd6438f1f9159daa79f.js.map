{"version":3,"sources":["webpack:///./node_modules/domhandler/lib/index.js","webpack:///./node_modules/domhandler/lib/node.js"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__exportStar","exports","p","prototype","hasOwnProperty","call","value","DomHandler","node_1","reWhitespace","defaultOpts","normalizeWhitespace","withStartIndices","withEndIndices","callback","options","elementCB","dom","_done","_tagStack","_lastNode","_parser","_callback","_options","_elementCB","onparserinit","parser","onreset","_a","onend","handleCallback","onerror","error","onclosetag","elem","pop","endIndex","onopentag","name","attribs","element","Element","addNode","push","ontext","data","normalize","type","replace","node","Text","oncomment","Comment","oncommentend","oncdatastart","text","NodeWithChildren","parent","oncdataend","onprocessinginstruction","ProcessingInstruction","length","siblings","children","previousSibling","startIndex","prev","next","addDataNode","default","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","__","constructor","__assign","assign","t","s","i","n","arguments","apply","cloneNode","DataNode","Node","nodeTypes","Map","configurable","set","recursive","_super","_this","keys","map","instr","cloneChildren","clone_1","forEach","child","clone_2","Error","childs"],"mappings":"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","file":"vendors.domhandler.2dd6438f1f9159daa79f.js","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar node_1 = require(\"./node\");\n__exportStar(require(\"./node\"), exports);\nvar reWhitespace = /\\s+/g;\n// Default options\nvar defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The constructed DOM */\n        this.dom = [];\n        /** Indicated whether parsing has been completed. */\n        this._done = false;\n        /** Stack of open tags. */\n        this._tagStack = [];\n        /** A data node that is still being written to. */\n        this._lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this._parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this._callback = callback !== null && callback !== void 0 ? callback : null;\n        this._options = options !== null && options !== void 0 ? options : defaultOpts;\n        this._elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this._parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        var _a;\n        this.dom = [];\n        this._done = false;\n        this._tagStack = [];\n        this._lastNode = null;\n        this._parser = (_a = this._parser) !== null && _a !== void 0 ? _a : null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this._done)\n            return;\n        this._done = true;\n        this._parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this._lastNode = null;\n        var elem = this._tagStack.pop();\n        if (!elem || !this._parser) {\n            return;\n        }\n        if (this._options.withEndIndices) {\n            elem.endIndex = this._parser.endIndex;\n        }\n        if (this._elementCB)\n            this._elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var element = new node_1.Element(name, attribs);\n        this.addNode(element);\n        this._tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var normalize = this._options.normalizeWhitespace;\n        var _lastNode = this._lastNode;\n        if (_lastNode && _lastNode.type === \"text\" /* Text */) {\n            if (normalize) {\n                _lastNode.data = (_lastNode.data + data).replace(reWhitespace, \" \");\n            }\n            else {\n                _lastNode.data += data;\n            }\n        }\n        else {\n            if (normalize) {\n                data = data.replace(reWhitespace, \" \");\n            }\n            var node = new node_1.Text(data);\n            this.addNode(node);\n            this._lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this._lastNode && this._lastNode.type === \"comment\" /* Comment */) {\n            this._lastNode.data += data;\n            return;\n        }\n        var node = new node_1.Comment(data);\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_1.Text(\"\");\n        var node = new node_1.NodeWithChildren(\"cdata\" /* CDATA */, [text]);\n        this.addNode(node);\n        text.parent = node;\n        this._lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this._callback === \"function\") {\n            this._callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this._tagStack[this._tagStack.length - 1];\n        var siblings = parent ? parent.children : this.dom;\n        var previousSibling = siblings[siblings.length - 1];\n        if (this._parser) {\n            if (this._options.withStartIndices) {\n                node.startIndex = this._parser.startIndex;\n            }\n            if (this._options.withEndIndices) {\n                node.endIndex = this._parser.endIndex;\n            }\n        }\n        siblings.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        if (parent) {\n            node.parent = parent;\n        }\n        this._lastNode = null;\n    };\n    DomHandler.prototype.addDataNode = function (node) {\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.Element = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8],\n]);\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            var _a;\n            return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(data) {\n        return _super.call(this, \"text\" /* Text */, data) || this;\n    }\n    return Text;\n}(DataNode));\nexports.Text = Text;\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment(data) {\n        return _super.call(this, \"comment\" /* Comment */, data) || this;\n    }\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     *\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children) {\n        if (children === void 0) { children = []; }\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) { return ({\n                name: name,\n                value: _this.attribs[name],\n            }); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    switch (node.type) {\n        case \"text\" /* Text */:\n            return new Text(node.data);\n        case \"directive\" /* Directive */: {\n            var instr = node;\n            return new ProcessingInstruction(instr.name, instr.data);\n        }\n        case \"comment\" /* Comment */:\n            return new Comment(node.data);\n        case \"tag\" /* Tag */:\n        case \"script\" /* Script */:\n        case \"style\" /* Style */: {\n            var elem = node;\n            var children = recursive ? cloneChildren(elem.children) : [];\n            var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n            children.forEach(function (child) { return (child.parent = clone_1); });\n            return clone_1;\n        }\n        case \"cdata\" /* CDATA */: {\n            var cdata = node;\n            var children = recursive ? cloneChildren(cdata.children) : [];\n            var clone_2 = new NodeWithChildren(\"cdata\" /* CDATA */, children);\n            children.forEach(function (child) { return (child.parent = clone_2); });\n            return clone_2;\n        }\n        case \"doctype\" /* Doctype */: {\n            // This type isn't used yet.\n            throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n"],"sourceRoot":""}